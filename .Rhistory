library(devtools)
use_package("pls")
use_package("readxl")
use_package("tidyverse")
use_package("tidyverse", type = "depends")
use_package("signal")
use_r("cal_model")
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
data <- read_xlsx("4500.xlsx")
library(pls)
library(readxl)
library(tidyverse)
library(signal)
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
data <- read_xlsx("4500.xlsx")
library(pls)
library(readxl)
library(tidyverse)
library(signal)
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
data <- read_xlsx("4500.xlsx")
#assigning x dependent wavelengths and y response
s = data[1545:1715]
y = data[1775]
data_1 <- data.frame(TF = data[,1775], MIR = I(data.matrix(s)))
#pre-processing
new <- apply(data_1$MIR, 1, FUN=sgolayfilt, p=2, n=7, m=2, ts=1)
newspectra <- apply(t(new), 1, FUN=sgolayfilt, p=2, n=3, m=0, ts=1)
data_sd <- data.frame(TFS= data$trans, MIR = I(t(newspectra)))
model_1 <- plsr(TFS~MIR, ncomp = 10, data = data_sd, validation ='LOO')
summary(model_1)
s = data[1545:1715]
y = data[1775]
data_1 <- data.frame(TF = data[,1775], MIR = I(data.matrix(s)))
#pre-processing
new <- apply(data_1$MIR, 1, FUN=sgolayfilt, p=2, n=3, m=2, ts=1)
newspectra <- apply(t(new), 1, FUN=sgolayfilt, p=2, n=3, m=0, ts=1)
data_sd <- data.frame(TFS= data$trans, MIR = I(t(newspectra)))
model_1 <- plsr(TFS~MIR, ncomp = 10, data = data_sd, validation ='LOO')
summary(model_1)
plot(RMSEP(model_1), legendpos="topright")
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
preddata <- read_xlsx("4500_pred.xlsx")
preddata1 <- data.frame(MIR = I(data.matrix(preddata[1545:1715])))
#preprocessing
pnew <- apply(preddata1$MIR, 1, FUN=sgolayfilt, p=2, n=7, m=2, ts=1)
pnewspectra <- apply(t(pnew), 1, FUN=sgolayfilt, p=2, n=3, m=0, ts=1)
predict(model_1, ncomp = 4, newdata = I(t(pnewspectra))) #predicting the values
source("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R/predicttransfat/R/cal_model.R")
devtools::load_all("predicttransfat")
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
data4500 <- read_xlsx("4500.xlsx")
use_data(data4500)
use_r("data")
load("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/predicttransfat/data/data5500.rda")
load("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/predicttransfat/data/data.rda")
data(data4500)
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
data4500 <- read_xlsx("4500.xlsx")
use_data(data4500)
use_data(data4500)
use_data(data4500)
load("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/predicttransfat/data/data5500.rda")
setwd("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R")
data4500 <- read_xlsx("4500.xlsx")
use_data(data4500)
data <- read_xlsx("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R/4500.xlsx")
library(pls)
library(readxl)
library(tidyverse)
library(signal)
data <- read_xlsx("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R/4500.xlsx")
library(devtools)
use_data(data)
use_r("data")
data4500 <- read_xlsx("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R/4500.xlsx")
data4500 <- read_xlsx("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R/4500.xlsx")
use_data(data4500)
use_r("data")
load("C:/Users/shrey/Desktop/OneDrive - The Ohio State University/Desktop/OSU/Lab/Nielson chapter/4500_R/predicttransfat/data/data4500.rda")
devtools::load_all(".")
